<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="name">inputStreamToDocument</value>
  <value name="encodeutf8">true</value>
  <value name="body">SURhdGFDdXJzb3IgcGlwZWxpbmVDdXJzb3IgPSBwaXBlbGluZS5nZXRDdXJzb3IoKTsNClN0cmlu
ZyBzaGVldF9uYW1lID0gSURhdGFVdGlsLmdldFN0cmluZyhwaXBlbGluZUN1cnNvciwiU2hlZXQi
KTsNClN0cmluZyBzID0gSURhdGFVdGlsLmdldFN0cmluZyhwaXBlbGluZUN1cnNvciwiU2tpcFN0
YXJ0RW1wdHlSb3dzIik7DQpTdHJpbmcgbnVtYmVyT2ZDZWxscyA9IElEYXRhVXRpbC5nZXRTdHJp
bmcocGlwZWxpbmVDdXJzb3IsIk51bWJlck9mQ2VsbHMiKTsNCmJvb2xlYW4gU2tpcFN0YXJ0RW1w
dHlSb3dzID0gcyE9bnVsbCAmJiBzLmVxdWFscygidHJ1ZSIpOw0KSURhdGEgc2hlZXRzW10gPSBu
dWxsOw0KdHJ5DQp7DQoJSW5wdXRTdHJlYW0JSW5TdHJlYW0gPSAoSW5wdXRTdHJlYW0pSURhdGFV
dGlsLmdldCggcGlwZWxpbmVDdXJzb3IsICJJblN0cmVhbSIgKTsNCglYU1NGV29ya2Jvb2sgd2Ig
PSBuZXcgWFNTRldvcmtib29rKEluU3RyZWFtKTsNCg0KCWludCBzaGVldF9jb3VudCA9IHdiLmdl
dE51bWJlck9mU2hlZXRzKCk7DQoJDQoJc2hlZXRzID0gbmV3IElEYXRhW3NoZWV0X2NvdW50XTsN
Cglmb3IgKGludCBpPTA7aTxzaGVldF9jb3VudDtpKyspDQoJew0KCQlTdHJpbmcgbmFtZSA9IHdi
LmdldFNoZWV0TmFtZShpKTsNCiAgICAgICAgICAgICAgICAvL0NoZWNrIGlmIHdlIG9ubHkgd2Fu
dCBvbmUgc3BlY2lmaWMgc2hlZXQgYnkgbmFtZQ0KCQlpZiAoc2hlZXRfbmFtZSE9bnVsbCAmJiBu
YW1lIT1udWxsICYmICFzaGVldF9uYW1lLmVxdWFsc0lnbm9yZUNhc2UobmFtZSsiJCIpKQ0KCQl7
DQoJCQljb250aW51ZTsJCQkJCQ0KCQl9DQoJCVhTU0ZTaGVldCBzaGVldCA9IHdiLmdldFNoZWV0
QXQoaSk7DQoJCWlmIChzaGVldCE9bnVsbCkNCgkJew0KCQkJc2hlZXRzW2ldID0gSURhdGFGYWN0
b3J5LmNyZWF0ZSgpOw0KCQkJSURhdGFDdXJzb3IgY3Vyc29yID0gc2hlZXRzW2ldLmdldEN1cnNv
cigpOw0KCQkJSURhdGFVdGlsLnB1dChjdXJzb3IsIkV4Y2VsRmlsZSIsSW5TdHJlYW0pOw0KCQkJ
SURhdGEgaXNoZWV0ID0gSURhdGFGYWN0b3J5LmNyZWF0ZSgpOw0KCQkJSURhdGFVdGlsLnB1dChj
dXJzb3IsIkV4Y2VsU2hlZXQiLGlzaGVldCk7DQoJCQlJRGF0YUN1cnNvciBzaGVldF9jdXJzb3Ig
PSBpc2hlZXQuZ2V0Q3Vyc29yKCk7DQoJCQlpbnQgcm93X2NvdW50ID0gc2hlZXQuZ2V0UGh5c2lj
YWxOdW1iZXJPZlJvd3MoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIExpc3Qgcm93cyA9IG5l
dyBBcnJheUxpc3Qocm93X2NvdW50KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vTG9vcCBv
dmVyIGFsbCByb3dzIGluIHNoZWV0DQogICAgICAgICAgICAgICAgICAgICAgICBib29sZWFuIGVt
cHR5X3JvdyA9IHRydWU7DQoJCQlmb3IgKGludCBqPTA7ajxyb3dfY291bnQ7aisrKQ0KCQkJew0K
CQkJCUlEYXRhIGlyb3cgPSBJRGF0YUZhY3RvcnkuY3JlYXRlKCk7DQoJCQkJY3Vyc29yID0gaXJv
dy5nZXRDdXJzb3IoKTsNCgkJCQlYU1NGUm93IHJvdyA9IHNoZWV0LmdldFJvdyhqKTsNCiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9vbGVhbiBoYXNfdmFsdWUgPSBmYWxzZTsNCgkJ
CQlpZiAocm93IT1udWxsKQ0KCQkJCXsNCgkJCQkJaW50IGNlbGxfY291bnQ7DQoJCQkJCWlmKG51
bWJlck9mQ2VsbHMgIT0gbnVsbCkNCgkJCQkJew0KCQkJCQkJY2VsbF9jb3VudCA9IEludGVnZXIu
cGFyc2VJbnQobnVtYmVyT2ZDZWxscyk7Ow0KCQkJCQl9DQoJCQkJCWVsc2UNCgkJCQkJew0KCQkJ
CQkJY2VsbF9jb3VudCA9IHJvdy5nZXRQaHlzaWNhbE51bWJlck9mQ2VsbHMoKTsNCgkJCQkJfQ0K
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vTG9vcCBvdmVyIGFsbCBj
ZWxscw0KCQkJCQlmb3IgKGludCBrPTA7azxjZWxsX2NvdW50O2srKykNCgkJCQkJew0KCQkJCQkJ
U3RyaW5nIHZhbHVlID0gIiI7DQoJCQkJCQlYU1NGQ2VsbCBjZWxsID0gcm93LmdldENlbGwoKHNo
b3J0KWspOw0KCQkJCQkJaWYgKGNlbGwhPW51bGwpDQoJCQkJCQl7DQoJCQkJCQkJdmFsdWUgPSBn
ZXRDZWxsU3RyaW5nKGNlbGwpOw0KCQkJCQkJfQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYg
KCF2YWx1ZS5lcXVhbHMoIiIpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAg
ICAgICAgICAgICAgICAgICAgZW1wdHlfcm93ID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAg
ICAgICB9DQoJCQkJCQlJRGF0YVV0aWwucHV0KGN1cnNvciwiRXhjZWxDb2x1bW5fIisoaysxKSx2
YWx1ZSk7DQoJCQkJCX0NCgkJCQl9DQogICAgICAgICAgICAgICAgICAgIC8vU2hvdWxkIHdlIHNr
aXAgdGhpcyByb3c/DQogICAgICAgICAgICAgICAgICAgIGlmIChTa2lwU3RhcnRFbXB0eVJvd3Mg
JiYgZW1wdHlfcm93KQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAg
ICAgIGNvbnRpbnVlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAg
IHJvd3MuYWRkKGlyb3cpOw0KCQkJfQ0KICAgICAgICBJRGF0YVV0aWwucHV0KHNoZWV0X2N1cnNv
ciwiRXhjZWxSb3ciLHJvd3MudG9BcnJheShuZXcgSURhdGFbMF0pKTsNCgkJfQ0KCX0NCn0NCmNh
dGNoIChFeGNlcHRpb24gZSkNCnsNCgl0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbihlKTsNCn0N
CklEYXRhVXRpbC5wdXQocGlwZWxpbmVDdXJzb3IsIkV4Y2VsU2hlZXRzIixzaGVldHMpOw0KcGlw
ZWxpbmVDdXJzb3IuZGVzdHJveSgpOw0KCQ==</value>
</Values>
